// @ts-check
const {
  registerListeners,
  unregisterListeners,
} = require("./webRequestListener");

chrome.storage.onChanged.addListener((changes) => {
  if (changes.active?.newValue === true) {
    registerListeners();
  } else if (changes.active?.newValue === false) {
    unregisterListeners();
  }
});

// TODO find another way
registerListeners();
